// Bow.cpp: implementation of the Bow class.
//
//////////////////////////////////////////////////////////////////////

#include "stdafx.h"
#include "Bow.h"

//////////////////////////////////////////////////////////////////////
// Construction/Destruction
//////////////////////////////////////////////////////////////////////

Bow::Bow()
{
	//AddFlag(__FLAG_EQUIP_POSITION, equip_where);
}

Bow::~Bow()
{

}


//////////////////////////////////////////////////////////////////////////////////////////
void Bow::OnAttack
//////////////////////////////////////////////////////////////////////////////////////////
// A bow attacking only deals exhaust, the damage is dealt in the RangedAttack function.
// 
(
 UNIT_FUNC_PROTOTYPE
)
//////////////////////////////////////////////////////////////////////////////////////////
{
    ObjectStructure::OnAttack( UNIT_FUNC_PARAM );
    medium->DealExhaust( weapon.cDealtExhaust.GetBoost( medium, target ), 0, 0 );
}

//////////////////////////////////////////////////////////////////////////////////////////
void Bow::OnAttacked
//////////////////////////////////////////////////////////////////////////////////////////
// When a bow gets attacked ( uh?! well yes, bows can have AC... )
// 
(
 UNIT_FUNC_PROTOTYPE
)
//////////////////////////////////////////////////////////////////////////////////////////
{
	ObjectStructure::OnAttacked( UNIT_FUNC_PARAM );
	
	LPATTACK_STRUCTURE Blow = (LPATTACK_STRUCTURE)valueIN;
	if(Blow) Blow->Strike -= armor.AC;
}

//////////////////////////////////////////////////////////////////////////////////////////
ObjectStructure *Bow::CreateObject( void ){
	return new Bow;
}
